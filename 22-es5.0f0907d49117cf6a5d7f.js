function _defineProperties(n,e){for(var l=0;l<e.length;l++){var t=e[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,l){return e&&_defineProperties(n.prototype,e),l&&_defineProperties(n,l),n}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{F4WH:function(n,e,l){"use strict";l.r(e);var t=l("8Y7J"),o=function n(){_classCallCheck(this,n)},a=l("pMnS"),i=l("MKJQ"),r=l("sZkV"),u=l("SVse"),c=l("MWB6"),s=l("iBYA"),f=l("9ans"),d=l("r+JB"),b=function(){function n(e,l,t,o,a){_classCallCheck(this,n),this.authService=e,this.uploadFileService=l,this.navigationService=t,this.sharedService=o,this.router=a,this.hideBackButton=!1;var i=this.router.getCurrentNavigation();if(i&&i.extras&&i.extras.state){var r=i.extras.state;r.hideBackButton&&(this.hideBackButton=r.hideBackButton)}}return _createClass(n,[{key:"ngOnInit",value:function(){this.image=this.authService.user.picture}},{key:"takePhoto",value:function(){var n=this;this.uploadFileService.takePhoto("profile",!1).then((function(e){console.log("data",e),n.image=e})).catch((function(e){switch(e.type){case"upload_file_s3":n.sharedService.presentAlert("Aviso","No se pudo subir la foto, vuelva a intentar").finally((function(){}));break;case"sign_file_s3":n.sharedService.presentAlert("Aviso","No se pudo firmar la foto, vuelva a intentar").finally((function(){}));break;case"no_faces":n.sharedService.presentAlert("Aviso","No se han encontrado caras en la foto, vuelva a intentar").finally((function(){}));break;case"max_faces_reached":n.sharedService.presentAlert("Aviso","Se ha encontrado mas de una cara en la foto, vuelva a intentar").finally((function(){}));break;case"detect_error":n.sharedService.presentAlert("Aviso","Error al procesar la foto, vuelva a intentar").finally((function(){}));break;case"file_not_found":n.sharedService.presentAlert("Aviso","No se ha encontrado la foto, vuelva a intentar").finally((function(){}));break;case"take_picture":default:n.sharedService.presentAlert("Aviso","Error al tomar la foto, vuelva a intentar").finally((function(){}))}}))}},{key:"enviar",value:function(){var n=this,e=this.authService.user;e.picture=this.image,this.sharedService.presentLoading("Actualizando").finally((function(){n.authService.update(e).then((function(){n.navigationService.navigate("root",["/home"]),n.sharedService.presentAlert("Aviso","Informaci\xf3n actualizada").finally((function(){}))})).catch((function(e){n.sharedService.presentAlert("Aviso",e.statusText).finally((function(){}))})).finally((function(){n.sharedService.dismissLoading().finally((function(){}))}))}))}},{key:"loadPlaceholder",value:function(n){return this.sharedService.loadPlaceholder(n)}},{key:"back",value:function(){this.navigationService.navigate("back",["/home"])}}]),n}(),p=l("iInd"),h=t.mb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{--background-size:cover;--background:none;background-color:#fff;background-image:url(/assets/imgs/fondos/circulo1.svg),url(/assets/imgs/fondos/circulo2.svg);background-position:155% 150%,-127% -119%;background-repeat:no-repeat;transition:background-position 2s ease}ion-content[_ngcontent-%COMP%]   .back-arrow[_ngcontent-%COMP%]{float:left;color:#000;font-size:1.5em;padding:5px}ion-content[_ngcontent-%COMP%]   .captura-foto[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   .captura-foto[_ngcontent-%COMP%]   .logo-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}ion-content[_ngcontent-%COMP%]   .captura-foto[_ngcontent-%COMP%]   .contenedor-texto[_ngcontent-%COMP%]{font-size:.8em;background:#fff;padding:5px;border-radius:5px}ion-content[_ngcontent-%COMP%]   .captura-foto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{width:300px;color:#000;margin:0 auto;font-weight:600;text-align:justify}ion-content[_ngcontent-%COMP%]   .captura-foto[_ngcontent-%COMP%]   .wrap-foto[_ngcontent-%COMP%]{width:250px;height:250px;border-radius:50%;border:4px solid #794691;margin:0 auto;overflow:hidden}"]],data:{}});function v(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,30,"ion-content",[],null,null,null,i.E,i.f)),t.nb(1,49152,null,0,r.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,28,"ion-grid",[["class","captura-foto"]],null,null,null,i.H,i.i)),t.nb(3,49152,null,0,r.z,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,26,"ion-row",[["class","ion-justify-content-center"]],null,null,null,i.P,i.q)),t.nb(5,49152,null,0,r.fb,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,3,"ion-col",[["size","12"]],null,null,null,i.D,i.e)),t.nb(7,49152,null,0,r.s,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(8,0,null,0,1,"ion-icon",[["class","back-arrow"],["name","arrow-back-outline"]],[[8,"hidden",0]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.back()&&t),t}),i.I,i.j)),t.nb(9,49152,null,0,r.B,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.ob(10,0,null,0,2,"ion-col",[["class","logo-wrap"],["size","12"]],null,null,null,i.D,i.e)),t.nb(11,49152,null,0,r.s,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(12,0,null,0,0,"img",[["class","logo-small"],["src","assets/imgs/logo.svg"],["width","120"]],null,null,null,null,null)),(n()(),t.ob(13,0,null,0,6,"ion-col",[["size","12"]],null,null,null,i.D,i.e)),t.nb(14,49152,null,0,r.s,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(15,0,null,0,4,"div",[["class","contenedor-texto"]],null,null,null,null,null)),(n()(),t.ob(16,0,null,null,1,"p",[["class","texto"]],null,null,null,null,null)),(n()(),t.Hb(-1,null,[" Antes de continuar es necesario que registre su foto, para esto utilice el icono de la parte inferior y utilice la c\xe1mara frontal, esta foto podr\xe1 ser modificada luego si lo requiere. "])),(n()(),t.ob(18,0,null,null,1,"p",[["class","texto"]],null,null,null,null,null)),(n()(),t.Hb(-1,null,[" Tenga en cuenta que esta foto deber\xe1 ser un primer plano de su rostro y deber\xe1 tener una iluminaci\xf3n adecuada para evitar que la foto quede oscura. "])),(n()(),t.ob(20,0,null,0,5,"ion-col",[["size","auto"]],null,null,null,i.D,i.e)),t.nb(21,49152,null,0,r.s,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(22,0,null,0,3,"div",[["class","photos_profile"]],null,[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.takePhoto()&&t),t}),null,null)),t.Eb(512,null,u.y,u.z,[t.k,t.r,t.B]),t.nb(24,278528,null,0,u.n,[u.y],{ngStyle:[0,"ngStyle"]},null),t.Cb(25,{"background-image":0}),(n()(),t.ob(26,0,null,0,4,"ion-col",[["size","12"]],null,null,null,i.D,i.e)),t.nb(27,49152,null,0,r.s,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(28,0,null,0,2,"ion-button",[["color","tertiary"],["expand","block"],["shape","round"]],null,[[null,"click"]],(function(n,e,l){var t=!0,o=n.component;return"click"===e&&(t=!1!==(o.image?o.enviar():o.takePhoto())&&t),t}),i.B,i.c)),t.nb(29,49152,null,0,r.j,[t.h,t.k,t.x],{color:[0,"color"],expand:[1,"expand"],shape:[2,"shape"]},null),(n()(),t.Hb(30,0,[" ",""]))],(function(n,e){var l=e.component;n(e,7,0,"12"),n(e,9,0,"arrow-back-outline"),n(e,11,0,"12"),n(e,14,0,"12"),n(e,21,0,"auto");var t=n(e,25,0,l.image?"url("+l.image+")":null);n(e,24,0,t),n(e,27,0,"12"),n(e,29,0,"tertiary","block","round")}),(function(n,e){var l=e.component;n(e,8,0,l.hideBackButton),n(e,30,0,l.image?"Enviar":"Tomar foto")}))}var g=t.kb("app-update-data",b,(function(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,1,"app-update-data",[],null,null,null,v,h)),t.nb(1,114688,null,0,b,[f.a,c.a,d.a,s.a,p.m],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),k=l("s7LF"),x=function n(){_classCallCheck(this,n)};l.d(e,"UpdateDataPageModuleNgFactory",(function(){return m}));var m=t.lb(o,[],(function(n){return t.wb([t.xb(512,t.j,t.X,[[8,[a.a,g]],[3,t.j],t.v]),t.xb(4608,u.m,u.l,[t.s,[2,u.B]]),t.xb(4608,k.q,k.q,[]),t.xb(4608,r.b,r.b,[t.x,t.g]),t.xb(4608,r.Eb,r.Eb,[r.b,t.j,t.p]),t.xb(4608,r.Hb,r.Hb,[r.b,t.j,t.p]),t.xb(1073742336,u.b,u.b,[]),t.xb(1073742336,k.p,k.p,[]),t.xb(1073742336,k.e,k.e,[]),t.xb(1073742336,r.Ab,r.Ab,[]),t.xb(1073742336,p.n,p.n,[[2,p.s],[2,p.m]]),t.xb(1073742336,x,x,[]),t.xb(1073742336,o,o,[]),t.xb(1024,p.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);