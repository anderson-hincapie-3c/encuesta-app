function _defineProperties(n,l){for(var t=0;t<l.length;t++){var e=l[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,l,t){return l&&_defineProperties(n.prototype,l),t&&_defineProperties(n,t),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{TbC0:function(n,l,t){"use strict";t.r(l);var e,o=t("8Y7J"),u=function n(){_classCallCheck(this,n)},a=t("pMnS"),i=t("MKJQ"),s=t("sZkV"),c=t("SVse"),r=t("mrSG"),g=t("9ans"),b=t("iBYA"),f=t("w8Ka"),p=t("r+JB"),d=t("AytR"),h=t("IheW"),v=((e=function(){function n(l){_classCallCheck(this,n),this.http=l}return _createClass(n,[{key:"getConfig",value:function(){var n=this;return new Promise((function(l,t){n.http.get("".concat(d.a.api_url,"config")).toPromise().then((function(n){l(n)})).catch((function(n){t(n)}))}))}}]),n}()).ngInjectableDef=o.Nb({factory:function(){return new e(o.Ob(h.c))},token:e,providedIn:"root"}),e),m=t("zCM7"),x=function(){function n(l,t,e,o,u,a){_classCallCheck(this,n),this.authService=l,this.sharedService=t,this.appService=e,this.configService=o,this.modalController=u,this.navigationService=a,this.APP_CONFIG="app_config"}return _createClass(n,[{key:"ngOnInit",value:function(){this.user=this.authService.user}},{key:"ionViewDidEnter",value:function(){this.getConfig()}},{key:"getConfig",value:function(){var n=this;this.configService.getConfig().then((function(l){localStorage.setItem(n.APP_CONFIG,JSON.stringify(l))})).catch((function(n){console.error(n)}))}},{key:"goProfile",value:function(){this.navigationService.navigate("forward",["/profile"])}},{key:"navigate",value:function(n){var l={};switch(n){case"/entrada":l={state:{type:"entrada"}},this.config.requiredSurveyBeforeCheckin?this.lastEncuestaStatus?"error"===this.lastEncuestaStatus.status?this.validateDateExpire()?this.navigationService.navigate("forward",["/entrada-salida"],l):this.showErrorModal():"success"===this.lastEncuestaStatus.status&&this.navigationService.navigate("forward",["/entrada-salida"],l):this.sharedService.presentAlert("Alerta","Debe realizar una encuesta antes de marcar la entrada").finally((function(){})):this.navigationService.navigate("forward",["/entrada-salida"],l);break;case"/salida":l={state:{type:"salida"}},this.navigationService.navigate("forward",["/entrada-salida"],l);break;case"/logout":this.logOut();break;default:this.navigationService.navigate("forward",[n])}}},{key:"showErrorModal",value:function(){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({component:m.a,componentProps:{title:"Alerta",message:"Su autodiagn\xf3stico ha sido calificado como sospechoso, por su seguridad y la de todos por favor no salga de casa, permanezca todo el tiempo con tapabocas y realice un lavado de manos frecuente. <br/><b>Por hoy</b> su ingreso a las instalaciones a sido restringido, y se ha generado una alerta  autom\xe1tica para su seguimiento.",status:"error"}});case 2:return l=n.sent,n.next=5,l.present();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"validateDateExpire",value:function(){var n=new Date;n.setHours(0,0,0,0);var l=new Date(this.lastEncuestaStatus.fecha);return l.setHours(0,0,0,0),l.setDate(l.getDate()+this.lastEncuestaStatus.diasRestriccion),n.getTime()>=l.getTime()}},{key:"logOut",value:function(){var n=this;this.sharedService.presentConfirm("Aviso","\xbfDesea cerrar sesi\xf3n?").then((function(l){l&&n.authService.logOutNormal(!0).then((function(){n.navigationService.navigate("root",["/login"])})).catch((function(){}))})).catch((function(){}))}},{key:"appPages",get:function(){var n=localStorage.getItem("lastAction");return[{title:"Marcar entrada",url:"/entrada",icon:"assets/icon/ic_events.svg",disabled:"entrada"===n},{title:"Actualizar foto",url:"/update-data",icon:"assets/icon/ic_events.svg",disabled:!1},{title:"Marcar salida",url:"/salida",icon:"assets/icon/ic_events.svg",disabled:"salida"===n},{title:"Cerrar sesi\xf3n",url:"/logout",icon:"assets/imgs/logout.svg",disabled:!1}]}},{key:"hasEntrada",get:function(){var n=this.lastAction;return n&&"entrada"===n.type}},{key:"lastAction",get:function(){return localStorage.getItem("lastAction")?JSON.parse(localStorage.getItem("lastAction")):null}},{key:"currentDate",get:function(){return(new Date).getTime()}},{key:"config",get:function(){return localStorage.getItem("app_config")?JSON.parse(localStorage.getItem("app_config")):null}},{key:"lastEncuestaStatus",get:function(){return localStorage.getItem("lastEncuestaStatus")?JSON.parse(localStorage.getItem("lastEncuestaStatus")):null}}]),n}(),_=o.mb({encapsulation:0,styles:[['ion-content[_ngcontent-%COMP%]{--background-size:cover;--background:none;background:#05abdb;background:linear-gradient(180deg,#05abdb 0,#794691 100%)}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(/assets/imgs/fondos/circulo1.svg),url(/assets/imgs/fondos/circulo2.svg);background-position:155% 150%,-127% -119%;background-repeat:no-repeat;transition:background-position 2s ease}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .info-user[_ngcontent-%COMP%]{color:#fff;line-height:1;padding:10px 10px 0 16px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .info-user[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:100;font-size:18px;line-height:1}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .info-user[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:"Open Sans";margin:0;font-weight:200;font-size:31px;line-height:1}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .info-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:"Open Sans";margin:0;font-weight:100;font-size:18px;line-height:1}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box[_ngcontent-%COMP%]{background:url(/assets/imgs/fondos/circulo_gris.svg) -45px -59px no-repeat #fff;border-radius:20px;min-height:117px;width:100%;padding:5px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.in-out[_ngcontent-%COMP%]{margin-bottom:0;height:145px;padding:10px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.in-out[_ngcontent-%COMP%]   span.left[_ngcontent-%COMP%]{bottom:15px;left:25px;position:absolute;text-transform:capitalize;font-size:13px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.in-out[_ngcontent-%COMP%]   span.right[_ngcontent-%COMP%]{bottom:17px;right:25px;position:absolute;font-weight:600;text-transform:uppercase;font-size:13px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.in[_ngcontent-%COMP%]{background-color:#fff;background-image:url(/assets/imgs/fondos/circulo_gris.svg),url(/assets/imgs/ic_arrow_back_24px.svg);background-position:-45px -59px,90% 29px;background-repeat:no-repeat}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.out[_ngcontent-%COMP%]{background-color:#fff;background-image:url(/assets/imgs/fondos/circulo_gris.svg),url(/assets/imgs/ic_arrow_forward_24px.svg);background-position:-45px -59px,90% 29px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{width:45px;height:auto;margin:5px 10px 0 20px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box[_ngcontent-%COMP%]   p.action[_ngcontent-%COMP%]{color:#794691;font-weight:700;margin:10px 15px}ion-content[_ngcontent-%COMP%]   .copy[_ngcontent-%COMP%]{text-align:center;font-size:.7em;color:#fff;position:absolute;width:100%;bottom:8px}']],data:{}});function k(n){return o.Jb(0,[(n()(),o.ob(0,0,null,null,2,"span",[["class","right"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Db(2,2)],null,(function(n,l){var t=l.component,e=o.Ib(l,1,0,n(l,2,0,o.zb(l.parent.parent,0),t.lastAction.date,"h:mm aa"));n(l,1,0,e)}))}function C(n){return o.Jb(0,[(n()(),o.ob(0,0,null,null,10,"ion-col",[["size","12"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/entrada")&&e),e}),i.D,i.e)),o.nb(1,49152,null,0,s.s,[o.h,o.k,o.x],{size:[0,"size"]},null),(n()(),o.ob(2,0,null,0,8,"div",[["class","wrapper-box in-out in"]],null,null,null,null,null)),(n()(),o.ob(3,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/clock-face-one-oclock_1f550.png"],["width","67"]],null,null,null,null,null)),(n()(),o.ob(4,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["Marcar entrada"])),(n()(),o.ob(6,0,null,null,2,"span",[["class","left date"]],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),o.Db(8,2),(n()(),o.eb(16777216,null,null,1,null,k)),o.nb(10,16384,null,0,c.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,1,0,"12"),n(l,10,0,t.lastAction)}),(function(n,l){var t=l.component,e=o.Ib(l,7,0,n(l,8,0,o.zb(l.parent,0),t.currentDate,"EEEE, MMMM d, y"));n(l,7,0,e)}))}function w(n){return o.Jb(0,[(n()(),o.ob(0,0,null,null,2,"span",[["class","right"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Db(2,2)],null,(function(n,l){var t=l.component,e=o.Ib(l,1,0,n(l,2,0,o.zb(l.parent.parent,0),t.lastAction.date,"h:mm aa"));n(l,1,0,e)}))}function M(n){return o.Jb(0,[(n()(),o.ob(0,0,null,null,10,"ion-col",[["size","12"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/salida")&&e),e}),i.D,i.e)),o.nb(1,49152,null,0,s.s,[o.h,o.k,o.x],{size:[0,"size"]},null),(n()(),o.ob(2,0,null,0,8,"div",[["class","wrapper-box in-out out"]],null,null,null,null,null)),(n()(),o.ob(3,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/clock-face-one-oclock_1f550.png"],["width","67"]],null,null,null,null,null)),(n()(),o.ob(4,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["Marcar salida"])),(n()(),o.ob(6,0,null,null,2,"span",[["class","left date"]],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),o.Db(8,2),(n()(),o.eb(16777216,null,null,1,null,w)),o.nb(10,16384,null,0,c.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,1,0,"12"),n(l,10,0,t.lastAction)}),(function(n,l){var t=l.component,e=o.Ib(l,7,0,n(l,8,0,o.zb(l.parent,0),t.currentDate,"EEEE, MMMM d, y"));n(l,7,0,e)}))}function P(n){return o.Jb(0,[(n()(),o.ob(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),o.ob(1,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/male-office-worker-type-1-2_1f468-1f3fb-200d-1f4bc.png"],["width","67"]],null,null,null,null,null))],null,null)}function O(n){return o.Jb(0,[(n()(),o.ob(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),o.ob(1,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/female-office-worker-type-1-2_1f469-1f3fb-200d-1f4bc.png"],["width","67"]],null,null,null,null,null))],null,null)}function S(n){return o.Jb(0,[(n()(),o.ob(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),o.ob(1,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/male-office-worker-type-1-2_1f468-1f3fb-200d-1f4bc.png"],["width","67"]],null,null,null,null,null))],null,null)}function y(n){return o.Jb(0,[o.Bb(0,c.d,[o.s]),(n()(),o.ob(1,0,null,null,49,"ion-content",[["has-bouncing","false"],["overflow-scroll","false"]],null,null,null,i.E,i.f)),o.nb(2,49152,null,0,s.t,[o.h,o.k,o.x],null,null),(n()(),o.ob(3,0,null,0,45,"div",[["class","full-content"]],null,null,null,null,null)),(n()(),o.ob(4,0,null,null,13,"ion-row",[["class","ion-padding info-user"]],null,null,null,i.P,i.q)),o.nb(5,49152,null,0,s.fb,[o.h,o.k,o.x],null,null),(n()(),o.ob(6,0,null,0,3,"ion-col",[["size","12"]],null,null,null,i.D,i.e)),o.nb(7,49152,null,0,s.s,[o.h,o.k,o.x],{size:[0,"size"]},null),(n()(),o.ob(8,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),o.Hb(-1,null,["Hola,"])),(n()(),o.ob(10,0,null,0,3,"ion-col",[["size","12"]],null,null,null,i.D,i.e)),o.nb(11,49152,null,0,s.s,[o.h,o.k,o.x],{size:[0,"size"]},null),(n()(),o.ob(12,0,null,0,1,"h1",[["style","text-transform: capitalize;"]],null,null,null,null,null)),(n()(),o.Hb(13,null,["",""])),(n()(),o.ob(14,0,null,0,3,"ion-col",[["size","12"]],null,null,null,i.D,i.e)),o.nb(15,49152,null,0,s.s,[o.h,o.k,o.x],{size:[0,"size"]},null),(n()(),o.ob(16,0,null,0,1,"h2",[["style","text-transform: capitalize;"]],null,null,null,null,null)),(n()(),o.Hb(17,null,["",""])),(n()(),o.ob(18,0,null,null,30,"ion-row",[["class","ion-padding"]],null,null,null,i.P,i.q)),o.nb(19,49152,null,0,s.fb,[o.h,o.k,o.x],null,null),(n()(),o.eb(16777216,null,0,1,null,C)),o.nb(21,16384,null,0,c.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.eb(16777216,null,0,1,null,M)),o.nb(23,16384,null,0,c.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.ob(24,0,null,0,12,"ion-col",[["size","6"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/update-data")&&e),e}),i.D,i.e)),o.nb(25,49152,null,0,s.s,[o.h,o.k,o.x],{size:[0,"size"]},null),(n()(),o.ob(26,0,null,0,10,"div",[["class","wrapper-box"]],null,null,null,null,null)),(n()(),o.ob(27,0,null,null,7,null,null,null,null,null,null,null)),o.nb(28,16384,null,0,c.o,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),o.eb(16777216,null,null,1,null,P)),o.nb(30,278528,null,0,c.p,[o.M,o.J,c.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),o.eb(16777216,null,null,1,null,O)),o.nb(32,278528,null,0,c.p,[o.M,o.J,c.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),o.eb(16777216,null,null,1,null,S)),o.nb(34,16384,null,0,c.q,[o.M,o.J,c.o],null,null),(n()(),o.ob(35,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["Cambiar foto"])),(n()(),o.ob(37,0,null,0,5,"ion-col",[["size","6"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/encuesta")&&e),e}),i.D,i.e)),o.nb(38,49152,null,0,s.s,[o.h,o.k,o.x],{size:[0,"size"]},null),(n()(),o.ob(39,0,null,0,3,"div",[["class","wrapper-box"]],null,null,null,null,null)),(n()(),o.ob(40,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/pencil_270f.png"],["width","67"]],null,null,null,null,null)),(n()(),o.ob(41,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["Auto diagnostico"])),(n()(),o.ob(43,0,null,0,5,"ion-col",[["size","6"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/logout")&&e),e}),i.D,i.e)),o.nb(44,49152,null,0,s.s,[o.h,o.k,o.x],{size:[0,"size"]},null),(n()(),o.ob(45,0,null,0,3,"div",[["class","wrapper-box"]],null,null,null,null,null)),(n()(),o.ob(46,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/leftwards-black-arrow_2b05.png"],["width","67"]],null,null,null,null,null)),(n()(),o.ob(47,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["Cerrar sesi\xf3n"])),(n()(),o.ob(49,0,null,0,1,"div",[["class","copy"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["Untime es un producto de 3Creatives S.A.S. "]))],(function(n,l){var t=l.component;n(l,7,0,"12"),n(l,11,0,"12"),n(l,15,0,"12"),n(l,21,0,!t.hasEntrada),n(l,23,0,t.hasEntrada),n(l,25,0,"6"),n(l,28,0,t.user.gender),n(l,30,0,"M"),n(l,32,0,"F"),n(l,38,0,"6"),n(l,44,0,"6")}),(function(n,l){var t=l.component;n(l,13,0,t.user.first_name),n(l,17,0,t.user.company.name)}))}var z=o.kb("app-home",x,(function(n){return o.Jb(0,[(n()(),o.ob(0,0,null,null,1,"app-home",[],null,null,null,y,_)),o.nb(1,114688,null,0,x,[g.a,b.a,f.a,v,s.Eb,p.a],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),E=t("s7LF"),I=t("iInd"),D=function n(){_classCallCheck(this,n)};t.d(l,"HomePageModuleNgFactory",(function(){return J}));var J=o.lb(u,[],(function(n){return o.wb([o.xb(512,o.j,o.X,[[8,[a.a,z]],[3,o.j],o.v]),o.xb(4608,c.m,c.l,[o.s,[2,c.B]]),o.xb(4608,E.q,E.q,[]),o.xb(4608,s.b,s.b,[o.x,o.g]),o.xb(4608,s.Eb,s.Eb,[s.b,o.j,o.p]),o.xb(4608,s.Hb,s.Hb,[s.b,o.j,o.p]),o.xb(1073742336,c.b,c.b,[]),o.xb(1073742336,E.p,E.p,[]),o.xb(1073742336,E.e,E.e,[]),o.xb(1073742336,s.Ab,s.Ab,[]),o.xb(1073742336,I.n,I.n,[[2,I.s],[2,I.m]]),o.xb(1073742336,D,D,[]),o.xb(1073742336,u,u,[]),o.xb(1024,I.k,(function(){return[[{path:"",component:x}]]}),[])])}))}}]);