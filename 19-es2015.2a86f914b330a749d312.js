(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{TbC0:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class o{}var u=t("pMnS"),a=t("MKJQ"),i=t("sZkV"),s=t("SVse"),c=t("mrSG"),r=t("9ans"),g=t("iBYA"),b=t("w8Ka"),p=t("r+JB"),f=t("AytR"),d=t("IheW");let h=(()=>{class n{constructor(n){this.http=n}getConfig(){return new Promise((n,l)=>{this.http.get(`${f.a.api_url}config`).toPromise().then(l=>{n(l)}).catch(n=>{l(n)})})}}return n.ngInjectableDef=e.Nb({factory:function(){return new n(e.Ob(d.c))},token:n,providedIn:"root"}),n})();var m=t("zCM7");class v{constructor(n,l,t,e,o,u){this.authService=n,this.sharedService=l,this.appService=t,this.configService=e,this.modalController=o,this.navigationService=u,this.APP_CONFIG="app_config"}ngOnInit(){this.user=this.authService.user}ionViewDidEnter(){this.getConfig()}getConfig(){this.configService.getConfig().then(n=>{localStorage.setItem(this.APP_CONFIG,JSON.stringify(n))}).catch(n=>{console.error(n)})}get appPages(){const n=localStorage.getItem("lastAction");return[{title:"Marcar entrada",url:"/entrada",icon:"assets/icon/ic_events.svg",disabled:"entrada"===n},{title:"Actualizar foto",url:"/update-data",icon:"assets/icon/ic_events.svg",disabled:!1},{title:"Marcar salida",url:"/salida",icon:"assets/icon/ic_events.svg",disabled:"salida"===n},{title:"Cerrar sesi\xf3n",url:"/logout",icon:"assets/imgs/logout.svg",disabled:!1}]}goProfile(){this.navigationService.navigate("forward",["/profile"])}get hasEntrada(){const n=this.lastAction;return n&&"entrada"===n.type}get lastAction(){return localStorage.getItem("lastAction")?JSON.parse(localStorage.getItem("lastAction")):null}get currentDate(){return(new Date).getTime()}get config(){return localStorage.getItem("app_config")?JSON.parse(localStorage.getItem("app_config")):null}get lastEncuestaStatus(){return localStorage.getItem("lastEncuestaStatus")?JSON.parse(localStorage.getItem("lastEncuestaStatus")):null}navigate(n){let l={};switch(n){case"/entrada":l={state:{type:"entrada"}},this.config.requiredSurveyBeforeCheckin?this.lastEncuestaStatus?"error"===this.lastEncuestaStatus.status?this.validateDateExpire()?this.navigationService.navigate("forward",["/entrada-salida"],l):this.showErrorModal():"success"===this.lastEncuestaStatus.status&&this.navigationService.navigate("forward",["/entrada-salida"],l):this.sharedService.presentAlert("Alerta","Debe realizar una encuesta antes de marcar la entrada").finally(()=>{}):this.navigationService.navigate("forward",["/entrada-salida"],l);break;case"/salida":l={state:{type:"salida"}},this.navigationService.navigate("forward",["/entrada-salida"],l);break;case"/logout":this.logOut();break;default:this.navigationService.navigate("forward",[n])}}showErrorModal(){return c.a(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:m.a,componentProps:{title:"Alerta",message:"Su autodiagn\xf3stico ha sido calificado como sospechoso, por su seguridad y la de todos por favor no salga de casa, permanezca todo el tiempo con tapabocas y realice un lavado de manos frecuente. <br/><b>Por hoy</b> su ingreso a las instalaciones a sido restringido, y se ha generado una alerta  autom\xe1tica para su seguimiento.",status:"error"}});return yield n.present()}))}validateDateExpire(){const n=new Date;n.setHours(0,0,0,0);const l=new Date(this.lastEncuestaStatus.fecha);return l.setHours(0,0,0,0),l.setDate(l.getDate()+this.lastEncuestaStatus.diasRestriccion),n.getTime()>=l.getTime()}logOut(){this.sharedService.presentConfirm("Aviso","\xbfDesea cerrar sesi\xf3n?").then(n=>{n&&this.authService.logOutNormal(!0).then(()=>{this.navigationService.navigate("root",["/login"])}).catch(()=>{})}).catch(()=>{})}}var x=e.mb({encapsulation:0,styles:[['ion-content[_ngcontent-%COMP%]{--background-size:cover;--background:none;background:#05abdb;background:linear-gradient(180deg,#05abdb 0,#794691 100%)}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(/assets/imgs/fondos/circulo1.svg),url(/assets/imgs/fondos/circulo2.svg);background-position:155% 150%,-127% -119%;background-repeat:no-repeat;transition:background-position 2s ease}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .info-user[_ngcontent-%COMP%]{color:#fff;line-height:1;padding:10px 10px 0 16px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .info-user[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:100;font-size:18px;line-height:1}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .info-user[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:"Open Sans";margin:0;font-weight:200;font-size:31px;line-height:1}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .info-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:"Open Sans";margin:0;font-weight:100;font-size:18px;line-height:1}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box[_ngcontent-%COMP%]{background:url(/assets/imgs/fondos/circulo_gris.svg) -45px -59px no-repeat #fff;border-radius:20px;min-height:117px;width:100%;padding:5px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.in-out[_ngcontent-%COMP%]{margin-bottom:0;height:145px;padding:10px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.in-out[_ngcontent-%COMP%]   span.left[_ngcontent-%COMP%]{bottom:15px;left:25px;position:absolute;text-transform:capitalize;font-size:13px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.in-out[_ngcontent-%COMP%]   span.right[_ngcontent-%COMP%]{bottom:17px;right:25px;position:absolute;font-weight:600;text-transform:uppercase;font-size:13px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.in[_ngcontent-%COMP%]{background-color:#fff;background-image:url(/assets/imgs/fondos/circulo_gris.svg),url(/assets/imgs/ic_arrow_back_24px.svg);background-position:-45px -59px,90% 29px;background-repeat:no-repeat}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box.out[_ngcontent-%COMP%]{background-color:#fff;background-image:url(/assets/imgs/fondos/circulo_gris.svg),url(/assets/imgs/ic_arrow_forward_24px.svg);background-position:-45px -59px,90% 29px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{width:45px;height:auto;margin:5px 10px 0 20px}ion-content[_ngcontent-%COMP%]   .full-content[_ngcontent-%COMP%]   .wrapper-box[_ngcontent-%COMP%]   p.action[_ngcontent-%COMP%]{color:#794691;font-weight:700;margin:10px 15px}ion-content[_ngcontent-%COMP%]   .copy[_ngcontent-%COMP%]{text-align:center;font-size:.7em;color:#fff;position:absolute;width:100%;bottom:8px}']],data:{}});function M(n){return e.Jb(0,[(n()(),e.ob(0,0,null,null,2,"span",[["class","right"]],null,null,null,null,null)),(n()(),e.Hb(1,null,["",""])),e.Db(2,2)],null,(function(n,l){var t=l.component,o=e.Ib(l,1,0,n(l,2,0,e.zb(l.parent.parent,0),t.lastAction.date,"h:mm aa"));n(l,1,0,o)}))}function _(n){return e.Jb(0,[(n()(),e.ob(0,0,null,null,10,"ion-col",[["size","12"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/entrada")&&e),e}),a.D,a.e)),e.nb(1,49152,null,0,i.s,[e.h,e.k,e.x],{size:[0,"size"]},null),(n()(),e.ob(2,0,null,0,8,"div",[["class","wrapper-box in-out in"]],null,null,null,null,null)),(n()(),e.ob(3,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/clock-face-one-oclock_1f550.png"],["width","67"]],null,null,null,null,null)),(n()(),e.ob(4,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Marcar entrada"])),(n()(),e.ob(6,0,null,null,2,"span",[["class","left date"]],null,null,null,null,null)),(n()(),e.Hb(7,null,["",""])),e.Db(8,2),(n()(),e.eb(16777216,null,null,1,null,M)),e.nb(10,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,1,0,"12"),n(l,10,0,t.lastAction)}),(function(n,l){var t=l.component,o=e.Ib(l,7,0,n(l,8,0,e.zb(l.parent,0),t.currentDate,"EEEE, MMMM d, y"));n(l,7,0,o)}))}function w(n){return e.Jb(0,[(n()(),e.ob(0,0,null,null,2,"span",[["class","right"]],null,null,null,null,null)),(n()(),e.Hb(1,null,["",""])),e.Db(2,2)],null,(function(n,l){var t=l.component,o=e.Ib(l,1,0,n(l,2,0,e.zb(l.parent.parent,0),t.lastAction.date,"h:mm aa"));n(l,1,0,o)}))}function C(n){return e.Jb(0,[(n()(),e.ob(0,0,null,null,10,"ion-col",[["size","12"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/salida")&&e),e}),a.D,a.e)),e.nb(1,49152,null,0,i.s,[e.h,e.k,e.x],{size:[0,"size"]},null),(n()(),e.ob(2,0,null,0,8,"div",[["class","wrapper-box in-out out"]],null,null,null,null,null)),(n()(),e.ob(3,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/clock-face-one-oclock_1f550.png"],["width","67"]],null,null,null,null,null)),(n()(),e.ob(4,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Marcar salida"])),(n()(),e.ob(6,0,null,null,2,"span",[["class","left date"]],null,null,null,null,null)),(n()(),e.Hb(7,null,["",""])),e.Db(8,2),(n()(),e.eb(16777216,null,null,1,null,w)),e.nb(10,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,1,0,"12"),n(l,10,0,t.lastAction)}),(function(n,l){var t=l.component,o=e.Ib(l,7,0,n(l,8,0,e.zb(l.parent,0),t.currentDate,"EEEE, MMMM d, y"));n(l,7,0,o)}))}function O(n){return e.Jb(0,[(n()(),e.ob(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.ob(1,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/male-office-worker-type-1-2_1f468-1f3fb-200d-1f4bc.png"],["width","67"]],null,null,null,null,null))],null,null)}function P(n){return e.Jb(0,[(n()(),e.ob(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.ob(1,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/female-office-worker-type-1-2_1f469-1f3fb-200d-1f4bc.png"],["width","67"]],null,null,null,null,null))],null,null)}function k(n){return e.Jb(0,[(n()(),e.ob(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.ob(1,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/male-office-worker-type-1-2_1f468-1f3fb-200d-1f4bc.png"],["width","67"]],null,null,null,null,null))],null,null)}function S(n){return e.Jb(0,[e.Bb(0,s.d,[e.s]),(n()(),e.ob(1,0,null,null,49,"ion-content",[["has-bouncing","false"],["overflow-scroll","false"]],null,null,null,a.E,a.f)),e.nb(2,49152,null,0,i.t,[e.h,e.k,e.x],null,null),(n()(),e.ob(3,0,null,0,45,"div",[["class","full-content"]],null,null,null,null,null)),(n()(),e.ob(4,0,null,null,13,"ion-row",[["class","ion-padding info-user"]],null,null,null,a.P,a.q)),e.nb(5,49152,null,0,i.fb,[e.h,e.k,e.x],null,null),(n()(),e.ob(6,0,null,0,3,"ion-col",[["size","12"]],null,null,null,a.D,a.e)),e.nb(7,49152,null,0,i.s,[e.h,e.k,e.x],{size:[0,"size"]},null),(n()(),e.ob(8,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Hola,"])),(n()(),e.ob(10,0,null,0,3,"ion-col",[["size","12"]],null,null,null,a.D,a.e)),e.nb(11,49152,null,0,i.s,[e.h,e.k,e.x],{size:[0,"size"]},null),(n()(),e.ob(12,0,null,0,1,"h1",[["style","text-transform: capitalize;"]],null,null,null,null,null)),(n()(),e.Hb(13,null,["",""])),(n()(),e.ob(14,0,null,0,3,"ion-col",[["size","12"]],null,null,null,a.D,a.e)),e.nb(15,49152,null,0,i.s,[e.h,e.k,e.x],{size:[0,"size"]},null),(n()(),e.ob(16,0,null,0,1,"h2",[["style","text-transform: capitalize;"]],null,null,null,null,null)),(n()(),e.Hb(17,null,["",""])),(n()(),e.ob(18,0,null,null,30,"ion-row",[["class","ion-padding"]],null,null,null,a.P,a.q)),e.nb(19,49152,null,0,i.fb,[e.h,e.k,e.x],null,null),(n()(),e.eb(16777216,null,0,1,null,_)),e.nb(21,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.eb(16777216,null,0,1,null,C)),e.nb(23,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(24,0,null,0,12,"ion-col",[["size","6"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/update-data")&&e),e}),a.D,a.e)),e.nb(25,49152,null,0,i.s,[e.h,e.k,e.x],{size:[0,"size"]},null),(n()(),e.ob(26,0,null,0,10,"div",[["class","wrapper-box"]],null,null,null,null,null)),(n()(),e.ob(27,0,null,null,7,null,null,null,null,null,null,null)),e.nb(28,16384,null,0,s.o,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.eb(16777216,null,null,1,null,O)),e.nb(30,278528,null,0,s.p,[e.M,e.J,s.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.eb(16777216,null,null,1,null,P)),e.nb(32,278528,null,0,s.p,[e.M,e.J,s.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.eb(16777216,null,null,1,null,k)),e.nb(34,16384,null,0,s.q,[e.M,e.J,s.o],null,null),(n()(),e.ob(35,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Cambiar foto"])),(n()(),e.ob(37,0,null,0,5,"ion-col",[["size","6"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/encuesta")&&e),e}),a.D,a.e)),e.nb(38,49152,null,0,i.s,[e.h,e.k,e.x],{size:[0,"size"]},null),(n()(),e.ob(39,0,null,0,3,"div",[["class","wrapper-box"]],null,null,null,null,null)),(n()(),e.ob(40,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/pencil_270f.png"],["width","67"]],null,null,null,null,null)),(n()(),e.ob(41,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Auto diagnostico"])),(n()(),e.ob(43,0,null,0,5,"ion-col",[["size","6"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigate("/logout")&&e),e}),a.D,a.e)),e.nb(44,49152,null,0,i.s,[e.h,e.k,e.x],{size:[0,"size"]},null),(n()(),e.ob(45,0,null,0,3,"div",[["class","wrapper-box"]],null,null,null,null,null)),(n()(),e.ob(46,0,null,null,0,"img",[["class","icon-box"],["src","assets/imgs/leftwards-black-arrow_2b05.png"],["width","67"]],null,null,null,null,null)),(n()(),e.ob(47,0,null,null,1,"p",[["class","action"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Cerrar sesi\xf3n"])),(n()(),e.ob(49,0,null,0,1,"div",[["class","copy"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Untime es un producto de 3Creatives S.A.S. "]))],(function(n,l){var t=l.component;n(l,7,0,"12"),n(l,11,0,"12"),n(l,15,0,"12"),n(l,21,0,!t.hasEntrada),n(l,23,0,t.hasEntrada),n(l,25,0,"6"),n(l,28,0,t.user.gender),n(l,30,0,"M"),n(l,32,0,"F"),n(l,38,0,"6"),n(l,44,0,"6")}),(function(n,l){var t=l.component;n(l,13,0,t.user.first_name),n(l,17,0,t.user.company.name)}))}function z(n){return e.Jb(0,[(n()(),e.ob(0,0,null,null,1,"app-home",[],null,null,null,S,x)),e.nb(1,114688,null,0,v,[r.a,g.a,b.a,h,i.Eb,p.a],null,null)],(function(n,l){n(l,1,0)}),null)}var y=e.kb("app-home",v,z,{},{},[]),E=t("s7LF"),I=t("iInd");class D{}t.d(l,"HomePageModuleNgFactory",(function(){return J}));var J=e.lb(o,[],(function(n){return e.wb([e.xb(512,e.j,e.X,[[8,[u.a,y]],[3,e.j],e.v]),e.xb(4608,s.m,s.l,[e.s,[2,s.B]]),e.xb(4608,E.q,E.q,[]),e.xb(4608,i.b,i.b,[e.x,e.g]),e.xb(4608,i.Eb,i.Eb,[i.b,e.j,e.p]),e.xb(4608,i.Hb,i.Hb,[i.b,e.j,e.p]),e.xb(1073742336,s.b,s.b,[]),e.xb(1073742336,E.p,E.p,[]),e.xb(1073742336,E.e,E.e,[]),e.xb(1073742336,i.Ab,i.Ab,[]),e.xb(1073742336,I.n,I.n,[[2,I.s],[2,I.m]]),e.xb(1073742336,D,D,[]),e.xb(1073742336,o,o,[]),e.xb(1024,I.k,(function(){return[[{path:"",component:v}]]}),[])])}))}}]);